<%
  const has_fields = typeof fields != 'undefined';
  const username = has_fields ? fields.username : null;
%>

<form class="login elevated" hx-post="/forgot-password" hx-swap="outerHTML">
  <h1 class="login__heading">Forgot password</h1>
  <div>
    <label for="username" class="login__label">Username or Email Address</label>
    <input 
      name="username" 
      class="login__input<%=username?.error?' error':null%>" 
      maxlength="20"
      required
      value="<%=username?.value%>" 
    />
  </div>
  <button class="login__btn btn-primary elevated" type="submit">Send reset link</button>
</form>